# 📕 SDU 自动绩点可视化 | SDU Auto GPA Visualizer  
> 面向山东大学可信电子凭证 PDF 成绩单的本地解析与可视化工具（SDU红配色方案）。  
> Local, client-side parsing & visualization for SDU verified PDF transcripts with SDU Red theme.  


## 🎯 项目目标 (Project Aim)  
**中文**：构建浏览器端单页应用（SPA），实现上传 PDF 成绩单后自动抽取关键信息（学期、课程名、课程属性、学分、成绩等），并基于这些数据完成绩点计算与多维度可视化展示。  

**English**：Build a client-side single-page application to automatically extract key fields (semester, course name, attribute, credit, grade) from SDU PDF transcripts, then compute GPA and generate multi-dimensional visualizations.  


### 计算方法说明 (Methodology)  
绩点计算采用**学分加权平均法**。设单门课程成绩（转换为百分制或4.0量表）为 \( g_i \)，学分为 \( w_i \)，则：  
\[ \text{GPA} = \frac{\sum_i w_i g_i}{\sum_i w_i} \]  

⚠️ 注意：不同院校/学院的绩点换算规则可能存在差异，本工具未完全覆盖所有细分政策，未明确部分以 *"This information is not definitively established"* 标注，最终结果请以官方教务数据为准。  


## 📦 文件结构 (Files)  
- `index.html`：主页面文件（单文件架构，整合样式、脚本与逻辑）  
- （使用说明）将 `index.html` 与本 README 放在同一目录，直接用浏览器打开 HTML 文件即可运行。  


## 🛠️ 使用步骤 (How to Use)  
1. **获取 PDF 成绩单**  
   从山东大学信息化公共管理服务平台 → 可信电子凭证 → 成绩单 → 预览 → 填写邮箱 → 接收带公章的 PDF 成绩单。  
   *This information is not definitively established*（流程可能随学校系统更新调整）。  

2. **准备环境**  
   使用现代浏览器（推荐 Chrome/Edge/Firefox/Safari 最新版本），确保设备内存充足。  

3. **解析与可视化**  
   - 打开 `index.html`，将 PDF 成绩单拖拽到上传区域，或点击“选择文件”按钮上传。  
   - 解析完成后，系统将自动展示：  
     - 顶部 KPI 指标：课程总数/总学分、加权平均分或4.0绩点、课程属性学分结构、时间范围。  
     - 可视化图表：学期绩点趋势、课程类型学分占比、成绩分布直方图、课程贡献度TOP10（按 `成绩×学分` 排序）。  


## ⚙️ 计算设置 (Computation Settings)  
### GPA 换算方案 (Scale)  
| 方案 | 说明 |  
|------|------|  
| 加权平均分 (0–100) | 直接以百分制成绩参与加权计算（适用于校内平均分统计场景） |  
| 线性 4.0 | 按公式 \( \text{GPA} = 4 \times \text{score}/100 \) 线性转换 |  
| 区间 4.0（常用档位） | 90–100→4.0；85–89→3.7；82–84→3.3；78–81→3.0；75–77→2.7；72–74→2.3；68–71→2.0；64–67→1.5；60–63→1.0；<60→0 |  
| 山大标准 4.0 | 适配山东大学常见绩点换算规则的区间映射 |  


### 质化成绩映射 (Qualitative→Numeric)  
将文字描述成绩转换为百分制数值，支持3种预设方案：  
- 标准：优秀→95；良好→85；合格→60；不合格/缓考→0  
- 高分倾向：优秀→97；良好→88；合格→60；不合格/缓考→0  
- 低分倾向：优秀→90；良好→80；合格→60；不合格/缓考→0  


### 其他设置  
- **零学分课程计入**：默认不计入（如CET等级考试等0学分课程），可手动勾选启用。  
- **重修课程处理**：默认仅保留最高分（通过“*”标记识别重修课程），可关闭此功能以保留全部记录。  


## 📊 可视化图表 (Visualization)  
| 图表类型 | 说明 |  
|---------|------|  
| 学期趋势曲线 | 按学期展示加权平均分或4.0绩点变化，支持平滑曲线与区域填充 |  
| 课程类型学分环图 | 展示必修课、限选课、任选课的学分占比，支持交互查看详情 |  
| 成绩分布直方图 | 按分数区间统计课程数量，直观展示成绩分布特征 |  
| 贡献度TOP10 | 按 `成绩×学分` 排序的课程条形图，突出高价值课程 |  


## 🔒 隐私与安全 (Privacy & Security)  
- **本地处理**：所有PDF解析、数据计算与可视化均在浏览器本地完成，成绩单文件不会上传至任何服务器。  
- **数据隔离**：工具运行过程中不会读取或存储设备上的其他文件，关闭页面后数据自动清除。  


## 🧠 精确性与局限 (Accuracy & Limitations)  
1. **解析依赖**：解析结果依赖PDF文本流结构，若学校更新成绩单模板或PDF为扫描图片（非文本型），可能导致解析失败，需手动调整解析规则。  
2. **政策差异**：SDU成绩单上标注的“平均学分绩点”（如85.54）更接近加权平均分而非4.0绩点，官方具体折算口径未完全确认（*This information is not definitively established*）。  
3. **建议复核**：使用时建议手工抽样检查3-5门课程的解析结果，确保数据准确性。  


## 🧩 技术栈 (Tech Stack)  
- **PDF解析**：`PDF.js`（处理PDF文本提取）  
- **可视化**：`ECharts`（生成交互式图表）  
- **基础架构**：原生HTML/CSS/JavaScript（单文件架构，无额外依赖）  


## 📬 扩展建议 (Feedback & Extension)  
- 功能扩展：支持导出数据为CSV、图表为PNG；增加课程搜索/筛选功能；引入学期对比分析。  
- 体验优化：添加解析进度条；支持本地存储常用设置；适配更多成绩单格式。  
- 精度提升：细化课程分类（如专业必修课/通识课）；优化质化成绩映射规则。  


若使用过程中遇到解析异常或功能建议，欢迎提交反馈！
